<section class="card mb-4" id="settingsSection">
  <div class="card-body">
    <h2 class="h4 mb-3">3. Settings</h2>
    <p class="text-secondary" id="settingsHelp">Upload a video first to enable generation settings</p>
    <div class="row g-3" id="settingsGrid">
      <div class="setting-group col-md-6">
        <label class="form-label" for="fpsSlider">
          Frame Rate: <span id="fpsValue">30</span> FPS
        </label>
        <input type="range" id="fpsSlider" class="form-range" min="24" max="120" value="30" step="1">
        <div class="d-flex justify-content-between small">
          <span>24</span>
          <span>120</span>
        </div>
      </div>

      <div class="setting-group col-md-6">
        <label class="form-label">Time Range</label>
        <div class="row g-2">
          <div class="col">
            <label class="form-label small">Start Time (seconds)</label>
            <input type="number" id="startTime" class="form-control" min="0" step="0.1" placeholder="0" value="0">
          </div>
          <div class="col">
            <label class="form-label small">End Time (seconds)</label>
            <input type="number" id="endTime" class="form-control" min="0" step="0.1" placeholder="Auto">
          </div>
        </div>
        <div class="time-range-info">
          <small class="text-secondary" id="timeRangeInfo">Full video duration will be used</small>
        </div>
      </div>

      <div class="setting-group col-md-6">
        <label class="form-label" for="resolutionSelect">Sprite Resolution</label>
        <select id="resolutionSelect" class="form-select">
          <option value="same">Same as video</option>
          <option value="64">64×64</option>
          <option value="128">128×128</option>
          <option value="256">256×256</option>
          <option value="512">512×512</option>
          <option value="1024">1024×1024</option>
          <option value="custom">Custom size</option>
        </select>
      </div>

      <div class="setting-group col-md-6 hidden" id="customResolutionGroup">
        <label class="form-label">Custom Resolution</label>
        <div class="row g-2">
          <div class="col">
            <label class="form-label small">Width</label>
            <input type="number" id="customWidth" class="form-control" min="1">
          </div>
          <div class="col">
            <label class="form-label small">Height</label>
            <input type="number" id="customHeight" class="form-control" min="1">
          </div>
        </div>
        <div class="aspect-info small text-secondary" id="aspectRatioInfo"></div>
      </div>

      <div class="setting-group col-md-6">
        <label class="form-label" for="gridModeSelect">Grid Mode</label>
        <select id="gridModeSelect" class="form-select">
          <option value="columns">Calculate Columns</option>
          <option value="rows">Calculate Rows</option>
          <option value="custom">Custom</option>
        </select>
      </div>

      <div class="setting-group col-md-6 hidden" id="customColumnsGroup">
        <label class="form-label" for="customColumns">Columns</label>
        <input type="number" id="customColumns" class="form-control" min="1" value="1">
      </div>

      <div class="setting-group col-md-6">
        <label class="form-label" for="filenameInput">File Name</label>
        <input type="text" id="filenameInput" class="form-control" placeholder="spritesheet">
      </div>
    </div>

    <div class="d-flex gap-2 mt-4" id="generationControls">
      <button type="button" class="btn btn-primary" id="generateBtn">Generate Spritesheet</button>
      <button type="button" class="btn btn-secondary" id="cancelBtn">Cancel</button>
    </div>

    <div class="progress mt-3 hidden" id="progressContainer">
      <div class="progress-bar" role="progressbar" id="progressFill" style="width:0%"></div>
    </div>
    <p class="small mt-2" id="progressText"></p>
  </div>
</section>
